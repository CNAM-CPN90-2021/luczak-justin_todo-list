{"ast":null,"code":"import _slicedToArray from\"/Users/justinluczak/Documents/COURS CNAM 2EME ANNEE/webmobile/github/github/luczak-justin_todo-list/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{IonContent,IonHeader,IonPage,IonTitle,IonToolbar,IonList,IonItem,IonLabel,IonInput,IonButton,IonCheckbox,IonIcon,IonSegment,IonSegmentButton,IonBadge,IonActionSheet,IonAlert}from'@ionic/react';import React from'react';import'./Home.css';import{useToDoList}from'../hooks/useToDoList';import{useState}from\"react\";import{create,trash,close}from'ionicons/icons';var Home=function Home(){// import des fonctions et variables\nvar _useToDoList=useToDoList(),addItem=_useToDoList.addItem,listItems=_useToDoList.listItems,toggleItem=_useToDoList.toggleItem,removeAllItems=_useToDoList.removeAllItems,counterTodo=_useToDoList.counterTodo,removeCounterTodo=_useToDoList.removeCounterTodo,addCounterTodo=_useToDoList.addCounterTodo,removeItem=_useToDoList.removeItem,modifieItem=_useToDoList.modifieItem;// texte à ajouter pour un nouvel item\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),text=_useState2[0],setText=_useState2[1];// état du tri de la liste\nvar _useState3=useState('all'),_useState4=_slicedToArray(_useState3,2),segmentValue=_useState4[0],setSegmentValue=_useState4[1];// état de l'affichage de la feuille d'action\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showActionSheet=_useState6[0],setShowActionSheet=_useState6[1];// état de l'affichage de l'alerte de modification de l'item\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showModifieAlert=_useState8[0],setShowModifieAlert=_useState8[1];// sélecteur de l'id de l'item à modifier ou à supprimer\nvar _useState9=useState(),_useState10=_slicedToArray(_useState9,2),itemToModifie=_useState10[0],setItemToModifie=_useState10[1];// fonction pour afficher les items dans la liste\nvar displayItems=function displayItems(value){// afficher un message différent si la liste est vide\nif(listItems.length===0){return/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,null,\"F\\xE9licitation votre liste est vide\"));}// sinon on affiche la liste \nelse{// pour afficher tous les items\nif(value==='all'){return listItems.map(function(item){// ne pas afficher les items supprimés manuellement\n// trie des items non cochés afin de les compter\nif(item!=undefined&&item.checked===false){return/*#__PURE__*/React.createElement(IonItem,{key:item.id},/*#__PURE__*/React.createElement(IonCheckbox,{slot:\"start\",color:\"primary\",checked:item.checked,onIonChange:function onIonChange(e){toggleItem(item.id);removeCounterTodo();}}),/*#__PURE__*/React.createElement(IonLabel,{className:item.checked?'checked':''},item.text),/*#__PURE__*/React.createElement(IonButton,{onClick:function onClick(){setShowActionSheet(true);setItemToModifie(item.id);}},/*#__PURE__*/React.createElement(IonIcon,{icon:create,color:\"light\",slot:\"end\"})),/*#__PURE__*/React.createElement(IonActionSheet,{isOpen:showActionSheet,onDidDismiss:function onDidDismiss(){return setShowActionSheet(false);},cssClass:\"my-custom-class\",buttons:[{text:'Supprimer',role:'destructive',icon:trash,handler:function handler(){removeItem(itemToModifie);}},{text:'Modifier',icon:create,handler:function handler(){setShowModifieAlert(true);}},{text:'Annuler',icon:close,role:'cancel'}]}),/*#__PURE__*/React.createElement(IonAlert,{isOpen:showModifieAlert,onDidDismiss:function onDidDismiss(){return setShowModifieAlert(false);},header:'Renommez votre tâche',inputs:[{name:'text',type:'text',placeholder:'Nouveau nom de la tâche'}],buttons:[{text:'Annuler',role:'cancel',cssClass:'secondary'},{text:'Valider',handler:function handler(data){modifieItem(itemToModifie,data.text);}}]}));}// on affiche les items cochés sans les compter\nelse if(item!=undefined){return/*#__PURE__*/React.createElement(IonItem,{key:item.id},/*#__PURE__*/React.createElement(IonCheckbox,{slot:\"start\",color:\"primary\",checked:item.checked,onIonChange:function onIonChange(e){toggleItem(item.id);addCounterTodo();}}),/*#__PURE__*/React.createElement(IonLabel,{className:item.checked?'checked':''},item.text),/*#__PURE__*/React.createElement(IonButton,{onClick:function onClick(){setShowActionSheet(true);setItemToModifie(item.id);}},/*#__PURE__*/React.createElement(IonIcon,{icon:create,color:\"light\",slot:\"end\"})),/*#__PURE__*/React.createElement(IonActionSheet,{isOpen:showActionSheet,onDidDismiss:function onDidDismiss(){return setShowActionSheet(false);},cssClass:\"my-custom-class\",buttons:[{text:'Supprimer',role:'destructive',icon:trash,handler:function handler(){removeItem(itemToModifie);}},{text:'Modifier',icon:create,handler:function handler(){setShowModifieAlert(true);}},{text:'Annuler',icon:close,role:'cancel'}]}),/*#__PURE__*/React.createElement(IonAlert,{isOpen:showModifieAlert,onDidDismiss:function onDidDismiss(){return setShowModifieAlert(false);},header:'Renommez votre tâche',inputs:[{name:'text',type:'text',placeholder:'Nouveau nom de la tâche'}],buttons:[{text:'Annuler',role:'cancel',cssClass:'secondary'},{text:'Valider',handler:function handler(data){modifieItem(itemToModifie,data.text);}}]}));}});}// trie des items non cochés\nelse if(value==='unchecked'){return listItems.map(function(item){// ne pas afficher les items supprimés manuellement\n// traite uniquement les items non cochés\nif(item!=undefined&&item.checked===false){return/*#__PURE__*/React.createElement(IonItem,{key:item.id},/*#__PURE__*/React.createElement(IonCheckbox,{slot:\"start\",color:\"primary\",checked:item.checked,onIonChange:function onIonChange(e){toggleItem(item.id);removeCounterTodo();}}),/*#__PURE__*/React.createElement(IonLabel,{className:item.checked?'checked':''},item.text),/*#__PURE__*/React.createElement(IonButton,{onClick:function onClick(){setShowActionSheet(true);setItemToModifie(item.id);}},/*#__PURE__*/React.createElement(IonIcon,{icon:create,color:\"light\",slot:\"end\"})),/*#__PURE__*/React.createElement(IonActionSheet,{isOpen:showActionSheet,onDidDismiss:function onDidDismiss(){return setShowActionSheet(false);},cssClass:\"my-custom-class\",buttons:[{text:'Supprimer',role:'destructive',icon:trash,handler:function handler(){removeItem(itemToModifie);}},{text:'Modifier',icon:create,handler:function handler(){setShowModifieAlert(true);}},{text:'Annuler',icon:close,role:'cancel'}]}),/*#__PURE__*/React.createElement(IonAlert,{isOpen:showModifieAlert,onDidDismiss:function onDidDismiss(){return setShowModifieAlert(false);},header:'Renommez votre tâche',inputs:[{name:'text',type:'text',placeholder:'Nouveau nom de la tâche'}],buttons:[{text:'Annuler',role:'cancel',cssClass:'secondary'},{text:'Valider',handler:function handler(data){modifieItem(itemToModifie,data.text);}}]}));}});}}};return/*#__PURE__*/React.createElement(IonPage,null,/*#__PURE__*/React.createElement(IonHeader,null,/*#__PURE__*/React.createElement(IonToolbar,null,/*#__PURE__*/React.createElement(IonTitle,null,\"To do list\"))),/*#__PURE__*/React.createElement(IonContent,{fullscreen:true},/*#__PURE__*/React.createElement(IonHeader,{collapse:\"condense\"},/*#__PURE__*/React.createElement(IonToolbar,null,/*#__PURE__*/React.createElement(IonTitle,{size:\"large\"},\"To do list\"))),/*#__PURE__*/React.createElement(IonSegment,{onIonChange:function onIonChange(e){return setSegmentValue(e.detail.value);}},/*#__PURE__*/React.createElement(IonSegmentButton,{value:\"all\"},/*#__PURE__*/React.createElement(IonLabel,null,\"Tout\")),/*#__PURE__*/React.createElement(IonSegmentButton,{value:\"unchecked\"},/*#__PURE__*/React.createElement(IonLabel,null,\"\\xC0 faire \",/*#__PURE__*/React.createElement(IonBadge,{color:\"primary\"},counterTodo)))),/*#__PURE__*/React.createElement(IonList,null,displayItems(segmentValue)),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonButton,{color:\"primary\",type:\"submit\",onClick:function onClick(){removeAllItems();}},\"Vider totalement la liste\")),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonInput,{placeholder:\"Qu'avez-vous en t\\xEAte ?\",inputmode:\"text\",clearInput:true,autofocus:true,required:true,onIonChange:function onIonChange(e){setText(e.detail.value);}}),/*#__PURE__*/React.createElement(IonButton,{color:\"primary\",type:\"submit\",onClick:function onClick(){addItem(text);}},\"Cr\\xE9er\"))));};export default Home;","map":{"version":3,"sources":["/Users/justinluczak/Documents/COURS CNAM 2EME ANNEE/webmobile/github/github/luczak-justin_todo-list/src/pages/Home.tsx"],"names":["IonContent","IonHeader","IonPage","IonTitle","IonToolbar","IonList","IonItem","IonLabel","IonInput","IonButton","IonCheckbox","IonIcon","IonSegment","IonSegmentButton","IonBadge","IonActionSheet","IonAlert","React","useToDoList","useState","create","trash","close","Home","addItem","listItems","toggleItem","removeAllItems","counterTodo","removeCounterTodo","addCounterTodo","removeItem","modifieItem","text","setText","segmentValue","setSegmentValue","showActionSheet","setShowActionSheet","showModifieAlert","setShowModifieAlert","itemToModifie","setItemToModifie","displayItems","value","length","map","item","undefined","checked","id","e","role","icon","handler","name","type","placeholder","cssClass","data","detail"],"mappings":"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","sourcesContent":["import { IonContent, IonHeader, IonPage, IonTitle, IonToolbar, IonList, IonItem, IonLabel, IonInput, IonButton, IonCheckbox, IonIcon, IonSegment, IonSegmentButton, IonBadge, IonActionSheet, IonAlert } from '@ionic/react';\nimport React from 'react';\nimport './Home.css';\nimport { useToDoList } from '../hooks/useToDoList';\nimport { useState } from \"react\";\nimport { create, trash, close } from 'ionicons/icons';\n\n\nconst Home: React.FC = () => {\n  // import des fonctions et variables\n  const { addItem, listItems, toggleItem, removeAllItems, counterTodo, removeCounterTodo, addCounterTodo, removeItem, modifieItem } = useToDoList();\n\n  // texte à ajouter pour un nouvel item\n  const [text, setText] = useState<any>();\n\n  // état du tri de la liste\n  let [segmentValue, setSegmentValue] = useState('all');\n\n  // état de l'affichage de la feuille d'action\n  let [showActionSheet, setShowActionSheet] = useState(false);\n\n  // état de l'affichage de l'alerte de modification de l'item\n  let [showModifieAlert, setShowModifieAlert] = useState(false);\n\n  // sélecteur de l'id de l'item à modifier ou à supprimer\n  let [itemToModifie, setItemToModifie] = useState<number>();\n\n  // fonction pour afficher les items dans la liste\n  const displayItems = (value) => {\n\n    // afficher un message différent si la liste est vide\n    if (listItems.length === 0) {\n      return <IonItem><IonLabel>Félicitation votre liste est vide</IonLabel></IonItem>\n    }\n\n    // sinon on affiche la liste \n    else {\n\n      // pour afficher tous les items\n      if (value === 'all') {\n\n        return listItems.map((item) => {\n\n          // ne pas afficher les items supprimés manuellement\n          // trie des items non cochés afin de les compter\n          if (item != undefined && item.checked === false) {\n            return (\n              <IonItem key={item.id}>\n                <IonCheckbox slot=\"start\" color=\"primary\" checked={item.checked} onIonChange={(e) => {\n                  toggleItem(item.id)\n                  removeCounterTodo()\n                }} />\n                <IonLabel className={item.checked ? 'checked' : ''}>{item.text}</IonLabel>\n\n                <IonButton onClick={() => {\n                  setShowActionSheet(true)\n                  setItemToModifie(item.id)\n                }}><IonIcon icon={create} color=\"light\" slot=\"end\" /></IonButton>\n\n\n                <IonActionSheet\n                  isOpen={showActionSheet}\n                  onDidDismiss={() => setShowActionSheet(false)}\n                  cssClass='my-custom-class'\n                  buttons={[{\n                    text: 'Supprimer',\n                    role: 'destructive',\n                    icon: trash,\n                    handler: () => {\n                      removeItem(itemToModifie)\n                    }\n                  },\n                  {\n                    text: 'Modifier',\n                    icon: create,\n                    handler: () => {\n                      setShowModifieAlert(true)\n                    }\n                  }, {\n                    text: 'Annuler',\n                    icon: close,\n                    role: 'cancel',\n                  }]}\n                >\n                </IonActionSheet>\n\n\n\n                <IonAlert\n                  isOpen={showModifieAlert}\n                  onDidDismiss={() => setShowModifieAlert(false)}\n                  header={'Renommez votre tâche'}\n                  inputs={[\n                    {\n                      name: 'text',\n                      type: 'text',\n                      placeholder: 'Nouveau nom de la tâche',\n                    }]}\n                  buttons={[\n                    {\n                      text: 'Annuler',\n                      role: 'cancel',\n                      cssClass: 'secondary',\n                    },\n                    {\n                      text: 'Valider',\n                      handler: data => {\n                        modifieItem(itemToModifie, data.text)\n                      }\n                    }\n                  ]}\n                />\n              </IonItem>\n            )\n          }\n\n          // on affiche les items cochés sans les compter\n          else if (item != undefined) {\n            return (\n              <IonItem key={item.id}>\n                <IonCheckbox slot=\"start\" color=\"primary\" checked={item.checked} onIonChange={(e) => {\n                  toggleItem(item.id)\n                  addCounterTodo()\n                }} />\n                <IonLabel className={item.checked ? 'checked' : ''}>{item.text}</IonLabel>\n\n                <IonButton onClick={() => {\n                  setShowActionSheet(true)\n                  setItemToModifie(item.id)\n                }}><IonIcon icon={create} color=\"light\" slot=\"end\" /></IonButton>\n\n\n                <IonActionSheet\n                  isOpen={showActionSheet}\n                  onDidDismiss={() => setShowActionSheet(false)}\n                  cssClass='my-custom-class'\n                  buttons={[{\n                    text: 'Supprimer',\n                    role: 'destructive',\n                    icon: trash,\n                    handler: () => {\n                      removeItem(itemToModifie)\n                    }\n                  },\n                  {\n                    text: 'Modifier',\n                    icon: create,\n                    handler: () => {\n                      setShowModifieAlert(true)\n                    }\n                  }, {\n                    text: 'Annuler',\n                    icon: close,\n                    role: 'cancel',\n                  }]}\n                >\n                </IonActionSheet>\n\n                <IonAlert\n                  isOpen={showModifieAlert}\n                  onDidDismiss={() => setShowModifieAlert(false)}\n                  header={'Renommez votre tâche'}\n                  inputs={[\n                    {\n                      name: 'text',\n                      type: 'text',\n                      placeholder: 'Nouveau nom de la tâche',\n                    }]}\n                  buttons={[\n                    {\n                      text: 'Annuler',\n                      role: 'cancel',\n                      cssClass: 'secondary',\n                    },\n                    {\n                      text: 'Valider',\n                      handler: data => {\n                        modifieItem(itemToModifie, data.text)\n                      }\n                    }]} /></IonItem>)\n          }\n        })\n      }\n\n      // trie des items non cochés\n      else if (value === 'unchecked') {\n        return (\n          listItems.map((item) => {\n            // ne pas afficher les items supprimés manuellement\n            // traite uniquement les items non cochés\n            if (item != undefined && item.checked === false) {\n              return (\n                < IonItem key={item.id} >\n                  <IonCheckbox slot=\"start\" color=\"primary\" checked={item.checked} onIonChange={(e) => {\n                    toggleItem(item.id)\n                    removeCounterTodo()\n                  }} />\n                  <IonLabel className={item.checked ? 'checked' : ''}>{item.text}</IonLabel>\n\n                  <IonButton onClick={() => {\n                    setShowActionSheet(true)\n                    setItemToModifie(item.id)\n                  }}><IonIcon icon={create} color=\"light\" slot=\"end\" /></IonButton>\n\n\n                  <IonActionSheet\n                    isOpen={showActionSheet}\n                    onDidDismiss={() => setShowActionSheet(false)}\n                    cssClass='my-custom-class'\n                    buttons={[{\n                      text: 'Supprimer',\n                      role: 'destructive',\n                      icon: trash,\n                      handler: () => {\n                        removeItem(itemToModifie)\n                      }\n                    },\n                    {\n                      text: 'Modifier',\n                      icon: create,\n                      handler: () => {\n                        setShowModifieAlert(true)\n                      }\n                    }, {\n                      text: 'Annuler',\n                      icon: close,\n                      role: 'cancel',\n                    }]}\n                  >\n                  </IonActionSheet>\n\n                  <IonAlert\n                    isOpen={showModifieAlert}\n                    onDidDismiss={() => setShowModifieAlert(false)}\n                    header={'Renommez votre tâche'}\n                    inputs={[\n                      {\n                        name: 'text',\n                        type: 'text',\n                        placeholder: 'Nouveau nom de la tâche',\n                      }]}\n                    buttons={[\n                      {\n                        text: 'Annuler',\n                        role: 'cancel',\n                        cssClass: 'secondary',\n                      },\n                      {\n                        text: 'Valider',\n                        handler: data => {\n                          modifieItem(itemToModifie, data.text)\n                        }\n                      }\n                    ]}\n                  /></IonItem >)\n            }\n          }))\n      }\n    }\n  }\n\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>To do list</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent fullscreen>\n\n        <IonHeader collapse=\"condense\">\n          <IonToolbar>\n            <IonTitle size=\"large\">To do list</IonTitle>\n          </IonToolbar>\n        </IonHeader>\n\n        <IonSegment onIonChange={e => setSegmentValue(e.detail.value)}>\n          <IonSegmentButton value=\"all\">\n            <IonLabel>Tout</IonLabel>\n          </IonSegmentButton>\n          <IonSegmentButton value=\"unchecked\">\n            <IonLabel>À faire <IonBadge color=\"primary\">{counterTodo}</IonBadge></IonLabel>\n\n          </IonSegmentButton>\n        </IonSegment>\n\n\n        <IonList>\n          {\n            displayItems(segmentValue)\n          }\n        </IonList>\n\n\n        <IonItem>\n          <IonButton color=\"primary\" type=\"submit\" onClick={() => { removeAllItems() }}>Vider totalement la liste</IonButton>\n        </IonItem>\n\n\n\n        <IonItem>\n          <IonInput placeholder=\"Qu'avez-vous en tête ?\" inputmode=\"text\" clearInput autofocus required onIonChange={e => { setText(e.detail.value); }}></IonInput>\n          <IonButton color=\"primary\" type=\"submit\" onClick={() => { addItem(text) }}>Créer</IonButton>\n        </IonItem>\n\n\n\n      </IonContent>\n\n\n    </IonPage>\n  );\n};\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}